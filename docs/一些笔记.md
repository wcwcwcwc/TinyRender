## gamma矫正

部分人认为是由于早期 CRT 显示器的问题，即输出的亮度和输入的电压并非线性关系，而是近似 2.2 次幂的关系，导致进入人眼的亮度要比计算机上存储的亮度要低。例如，计算机上存储的亮度为 0.5，经过显示器调整后变为 0.5 的 2.2 次幂，即 0.218。为了让进入人眼的亮度与计算机中存储的值相同，需要在显示器调整前将亮度变为自身的 1/2.2 次幂，即 0.73，这样在经过显示器的调整，进入人眼就是 0.5 了，也就是说，Gamma 校正可以补偿由于显示器造成的亮度下降。这里需要注意的是，2.2 这个值是一个近似值，或者可以说是一个标准，实际上可能会有不同，现在的显示器甚至可以调节。
https://zhuanlan.zhihu.com/p/36581276

一般真实渲染最后一步是要做gamma矫正的，有些引擎不注重真实渲染的话，就不做了。

### SRGB与线性空间

https://zhuanlan.zhihu.com/p/66558476

### 关于shadowMap中的自遮挡问题

最简单的shadowMap结果出来的画面锯齿很明显，是因为深度纹理的一个个深度是离散的，第二次pass时多个片元虽然深度不同，但都会对于同一个深度纹理中的纹素，当视角倾斜时，效果尤为明显，显示出一条一条的锯齿。
在第一次pass中对所有的顶点的z值加上bias偏移量，使得深度纹理往后推，这样第二次比较的时候就容易比之前深度小，所有避免了锯齿的发生。但是这个bias如果移的很大，就会发生peterpan的现象。
只是添加bias仍然不能解决另外一些场景，如正对着灯光的球体，球体两边是有锯齿的。这时候应该有个按法线和光线方向的bias计算，使得第一次pass中的各个顶点的xyz按法线方向收缩，可以想象，球体对两侧进行收缩，两侧空出来的区域深度会显著加大，这也就让原有的两侧在渲染时深度明显小于SM上的深度，从而处于光照之下。