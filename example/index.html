<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="shortcut icon" href="#" />
    <title>Document</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #webglDOM {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <canvas id='webglDOM'></canvas>
    <script src="../dist/tinyRender.umd.js"></script>
    <script>
        // 实例化引擎
        let renderer = new TinyRender.Engine({
            container: 'webglDOM'
        });
        // 添加相机
        let camera = new TinyRender.PerspectiveCamera({
            fov: 75,
            aspect: window.innerWidth / window.innerHeight,
            nearZ: 0.01,
            farZ: 1000
        }, renderer.canvas)
        camera.setPosition([0.20843, -104.146, 30.8784]);
        camera.lookAt = [0, 0, 0];
        renderer.addCamera(camera);
        // 设置相机可交互
        renderer.addCameraOrbitControls();
        // 添加mesh
        let cubeMesh = new TinyRender.Mesh('cube', {
            height: 15,
            width: 15,
            depth: 50
        });
        // 设置mesh位置
        cubeMesh.setPosition([0, 0, 25])
        // let cubeMaterial = new TinyRender.Material({
        //     'color': 'rgba(1.0,0.0,1.0,1.0)',
        //     'opacity': 1.0
        // })

        let cubeMaterial = new TinyRender.PhongMaterial({
            'specularStrength': 0.5,
            'shininess': 32,
            'color': 'rgba(1.0,0.0,1.0,1.0)',
            'opacity': 1.0
        })

        // 添加材质
        cubeMesh.material = cubeMaterial;
        renderer.addMesh(cubeMesh)

        let planeMesh = new TinyRender.Mesh('plane', {
            width: 150,
            height: 150
        })
        planeMesh.setPosition([0, 0, 0]);
        // let planeMaterial = new TinyRender.Material({
        //     'color': 'rgba(0.76470588,1.0,0.8862745098,1.0)',
        //     'opacity': 1.0
        // })

        let planeMaterial = new TinyRender.PhongMaterial({
            'specularStrength': 0.5,
            'shininess': 32,
            'color': 'rgba(0.76470588,1.0,0.8862745098,1.0)',
            'opacity': 1.0
        })

        // 添加材质
        planeMesh.material = planeMaterial;
        renderer.addMesh(planeMesh)

        // 灯光设置
        let light = new TinyRender.Light({
            position: [22.381766640001118, 32.76583771179339, 101.12054562126237],
            color: 'rgb(1.0,1.0,1.0)',
            intensity: 1
        })
        let ambientLight = new TinyRender.AmbientLight({
            intensity: 0.1
        })
        // 添加环境光
        renderer.addAmbientLight(ambientLight);
        // 添加点光源
        renderer.addLight(light);

















        function animate() {
            requestAnimationFrame(animate);
            renderer.render();
            // console.log(renderer.camera.camera)
        }

        // renderer.render();
        animate()
        console.log(renderer)
    </script>
</body>

</html>